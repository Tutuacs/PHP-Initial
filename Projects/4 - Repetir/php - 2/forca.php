<?php

// jogo da forca / 31/01/23 Arthur Silva


$entrada = entradas();
$n_entrada = nova_palavra($entrada);
$acertou_errou= [0,0];
$lista_erros = '      ';
$possui_letra = 0;

while ($acertou_errou[1]<7 && $acertou_errou[0]!=2){

    saida_forca($acertou_errou);//saida imagem
        if($acertou_errou[1]>0){
            saida_erros($lista_erros);//saida letras erradas
            }
    saida_acertos($n_entrada);//saida palavra acertada
    $letra = le_letra();//pergunta letra
    $possui_letra = verifica_letra($letra,$entrada);//verifica acerto ou erro
    echo $possui_letra;
        if($possui_letra==0){
            $acertou_errou[0] = acabou($n_entrada,$entrada);//verifica se foi o ultimo acerto
            $n_entrada = saida_palavra($letra,$entrada,$n_entrada);//completa a palavra com a letra acertada
            echo $n_entrada;
            }
        else{
            $acertou_errou[1]++;//aumenta um erro
            $lista_erros[$acertou_errou[1]] = $letra;//aumenta lista de letras erradas
            }
        if($acertou_errou[0]==1||$acertou_errou[1]==6){
            saida_forca($acertou_errou);//saida imagem
            saida_erros($lista_erros);//saida letras erradas
            $acertou_errou[0]++;
            $acertou_errou[1]++;
            }
    }

/*================================================================================================*/
function entradas(){

    echo " ====================================================================\n";
    echo "==     Digite a palavra que deseja usar: ";$entrada = readline();
    echo "\n ====================================================================\n\n";
    return($entrada);

    }
/*================================================================================================*/
function nova_palavra($entrada){
    $nova = ' ';
    $cont = strlen($entrada);
    $i=0;
    while($i<$cont){
        $nova[$i]='_';
    $i++;
    }
    return($nova);
    }
/*================================================================================================*/
function le_letra(){

    echo "\n ====================================================================";
    echo "\n==     Digite a letra que deseja chutar:  ";$letra = readline();
    echo "\n ====================================================================\n";
    return($letra);

    }
/*================================================================================================*/
function verifica_letra($entrada,$letra){

    $j = 0;
    $tem = 0;

    while($j<strlen($entrada)){
        if($letra == $entrada[$j]){
            $tem++;
        }
        $j++;
    }
    return($tem);

    }
/*================================================================================================*/
function acabou($entrada,$n_entrada){
    $j=0;
    $acabou = 1;
    while($j<strlen($n_entrada)){
        if($n_entrada[$j]=='_'){
            $acabou = 0;
        }
    $j++;
    }
    return($acabou);
    }
/*================================================================================================*/
function saida_palavra($n_entrada,$entrada,$letra){

    $j=0;

    while($j<strlen($entrada)){
            if($letra==$entrada[$j]){
            $n_entrada[$j]=$letra;
        }
        $j++;
    }
    return($n_entrada);

    }
/*================================================================================================*/
function saida_forca($acertou_errou){
    $j=1;
    if($acertou_errou[$j]==6){   
    echo"\n================================================================================================\n";
    echo"                                                             =============                      \n";
    echo"                                                          ====================                  \n";
    echo"                                                       ========           ========              \n";
    echo"                                                      =======                 ========          \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                             __   ________   __                   =======       \n";
    echo"                                             \=\ / \/  \/ \ /=/                   =======       \n";
    echo"                                              \=\| /\  /\ |/=/                    =======       \n";
    echo"                                               \=\________/=/                     =======       \n";
    echo"                                                \=\ |==| /=/                      =======       \n";
    echo"                                                 \=\|==|/=/                       =======       \n";
    echo"                                                  \=|==|=/                        =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                   /|__|\                         =======       \n";
    echo"                                                  /=/  \=\                        =======       \n";
    echo"                                                 /=/    \=\                       =======       \n";
    echo"                                                /=/      \=\                      =======       \n";
    echo"                                               /=/        \=\                     =======       \n";
    echo"                                              /_/          \_\                    =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    }
    else if($acertou_errou[$j]==5){  
    echo"\n================================================================================================\n";
    echo"                                                             =============                      \n";
    echo"                                                          ====================                  \n";
    echo"                                                       ========           ========              \n";
    echo"                                                      =======                 ========          \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                                  ________   __                   =======       \n";
    echo"                                                 /        \ /=/                   =======       \n";
    echo"                                                 |        |/=/                    =======       \n";
    echo"                                                 \________/=/                     =======       \n";
    echo"                                                    |==| /=/                      =======       \n";
    echo"                                                    |==|/=/                       =======       \n";
    echo"                                                    |==|=/                        =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                   /|__|\                         =======       \n";
    echo"                                                  /=/  \=\                        =======       \n";
    echo"                                                 /=/    \=\                       =======       \n";
    echo"                                                /=/      \=\                      =======       \n";
    echo"                                               /=/        \=\                     =======       \n";
    echo"                                              /_/          \_\                    =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    }
    else if($acertou_errou[$j]==4){
    echo"\n================================================================================================\n";
    echo"                                                             =============                      \n";
    echo"                                                          ====================                  \n";
    echo"                                                       ========           ========              \n";
    echo"                                                      =======                 ========          \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                                  ________                        =======       \n";
    echo"                                                 /        \                       =======       \n";
    echo"                                                 |        |                       =======       \n";
    echo"                                                 \________/                       =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                   /|__|\                         =======       \n";
    echo"                                                  /=/  \=\                        =======       \n";
    echo"                                                 /=/    \=\                       =======       \n";
    echo"                                                /=/      \=\                      =======       \n";
    echo"                                               /=/        \=\                     =======       \n";
    echo"                                              /=/          \=\                    =======       \n";
    echo"                                             /_/            \_\                   =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    }    
    else if($acertou_errou[$j]==3){
    echo"\n================================================================================================\n";
    echo"                                                             =============                      \n";
    echo"                                                          ====================                  \n";
    echo"                                                       ========           ========              \n";
    echo"                                                      =======                 ========          \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                                  ________                        =======       \n";
    echo"                                                 /        \                       =======       \n";
    echo"                                                 |        |                       =======       \n";
    echo"                                                 \________/                       =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |==|                          =======       \n";
    echo"                                                    |__|\                         =======       \n";
    echo"                                                       \=\                        =======       \n";
    echo"                                                        \=\                       =======       \n";
    echo"                                                         \=\                      =======       \n";
    echo"                                                          \=\                     =======       \n";
    echo"                                                           \_\                    =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    }
    else if($acertou_errou[$j]==2){
    echo"\n================================================================================================\n";
    echo"                                                             =============                      \n";
    echo"                                                          ====================                  \n";
    echo"                                                       ========           ========              \n";
    echo"                                                      =======                 ========          \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                                ________                          =======       \n";
    echo"                                               /        \                         =======       \n";
    echo"                                               |        |                         =======       \n";
    echo"                                               \________/                         =======       \n";
    echo"                                                  |==|                            =======       \n";
    echo"                                                  |==|                            =======       \n";
    echo"                                                  |==|                            =======       \n";
    echo"                                                  |==|                            =======       \n";
    echo"                                                  |==|                            =======       \n";
    echo"                                                  |==|                            =======       \n";
    echo"                                                  |__|                            =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    }
    else if($acertou_errou[$j]==1){
    echo"\n================================================================================================\n";
    echo"                                                             =============                      \n";
    echo"                                                          ====================                  \n";
    echo"                                                       ========           ========              \n";
    echo"                                                      =======                 ========          \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                                ________                          =======       \n";
    echo"                                               /        \                         =======       \n";
    echo"                                              |          |                        =======       \n";
    echo"                                               \________/                         =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    }
    else if($acertou_errou[$j]==0){
    echo"\n================================================================================================\n";
    echo"                                                             =============                      \n";
    echo"                                                          ====================                  \n";
    echo"                                                       ========           ========              \n";
    echo"                                                      =======                 ========          \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                                   =======                        =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                        =============================             =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                                                                                  =======       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    echo"                      ===================================================================       \n";
    }
    }
/*================================================================================================*/
function saida_erros($lista_erros){
    $j = 0;
    echo "\n             ====================================          \n";
    echo "      ____======VOCE ERROU AS SEGUINTES LETRAS=====____    \n";
    echo "   ========================================================\n";
    echo "   ============= ";
    for($j=0;$j<6;$j++){
    echo $lista_erros[$j].'  == ';
    }
    echo " ==============";
    echo "\n   ========================================================\n";
    return($lista_erros);
    }
/*================================================================================================*/
function saida_acertos($n_entrada){

    $cont = strlen($n_entrada);
    echo "\n\n   =====================    PALAVRA    ====================\n";
    echo "   ========================================================\n";
    echo "   ==";
    for($j=0;$j<$cont;$j++){
    echo "     " .$n_entrada[$j]."  =";
    echo "=";
    }
    echo "\n   ========================================================";
    }
/*================================================================================================*/
?>